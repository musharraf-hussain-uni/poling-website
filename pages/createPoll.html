<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../css/style.css">
</head>

<body>
    <!-- Admin Panel - Poll Creation -->
    <div id="admin-panel" class="container">
        <div class="page">
            <h2 id="poll-heading">Admin Panel - Create a Poll 1</h2>
            <form id="create-poll-form">
                <input type="text" id="poll-question" placeholder="Poll Question" required>
                <input type="text" id="option1" placeholder="Option 1" required>
                <input type="text" id="option2" placeholder="Option 2" required>
                <input type="submit" value="Add" class="add">
            </form>

            <div id="poll-error"></div>
        </div>
    </div>
    <button id="logout-btn" class="adnlogout">Logout</button>
    <!-- Custom Box -->
    <div id="custom-box" class="hidden">
        <h3 id="box-poll-question"></h3>
        <p id="box-option1"></p>
        <p id="box-option2"></p>
        <button id="close-box-btn">Close</button>
    </div>

    <script type="module">
        // Admin Panel - Create Poll
const createPollForm = document.getElementById('create-poll-form');
const pollHeading = document.getElementById('poll-heading');
const customBox = document.getElementById('custom-box');
const boxPollQuestion = document.getElementById('box-poll-question');
const boxOption1 = document.getElementById('box-option1');
const boxOption2 = document.getElementById('box-option2');
const closeBoxBtn = document.getElementById('close-box-btn');

let pollNumber = 1; // Initialize the poll number to 1

createPollForm.addEventListener('submit', (event) => {
    event.preventDefault(); // Prevent form submission

    // Get poll details from the form
    const pollQuestion = document.getElementById('poll-question').value;
    const option1 = document.getElementById('option1').value;
    const option2 = document.getElementById('option2').value;

    // Update the heading for the new form
    pollNumber++;
    pollHeading.textContent = `Admin Panel - Create a Poll ${pollNumber}`;

    // Show the custom box with the data from the form
    showCustomBox(pollQuestion, option1, option2);

    // Clear form inputs for the next poll
    createPollForm.reset();
});

// Initialize the heading with the initial poll number
pollHeading.textContent = `Admin Panel - Create a Poll ${pollNumber}`;

// Function to show the custom box with poll data
function showCustomBox(pollQuestion, option1, option2) {
    boxPollQuestion.textContent = `Poll Question: ${pollQuestion}`;
    boxOption1.textContent = `1) ${option1}`;
    boxOption2.textContent = `2) ${option2}`;
    customBox.classList.remove('hidden');
}

// Close the custom box when the "Close" button is clicked
closeBoxBtn.addEventListener('click', () => {
    customBox.classList.add('hidden');
});
// ... (other code and functions)

// Logout button click event listener
const logoutBtn = document.getElementById('logout-btn');
logoutBtn.addEventListener('click', () => {
    // Implement your logout logic here (e.g., clearing any stored user data, logging out from the admin session, etc.)

    // Redirect to the admin login page
    window.location.href = './adminLogin.html';
});

    </script>
</body>

</html>